# Change Inventory: HARK 0.14.1 → 0.17.0

## Discovery Metadata
- Generated: 2026-01-15
- Source version: 0.14.1
- Target version: 0.17.0
- Discovery method: PyPI wheel extraction + structural/API diff
- Modules skipped (import errors): None

---

## Summary Statistics

| Category | Count |
|----------|-------|
| Module/path changes | 3 |
| Module removals | 3 |
| Parameter renames | 4 |
| Type changes | 0 |
| Method renames | 0 (already snake_case in 0.14.1) |
| Config file types to check | 5+ |
| **Total breaking changes** | 10+ |

---

## 1. Module/Import Path Changes

### 1.1 Module Renames

| Old Import | New Import | Confidence | Evidence |
|------------|------------|------------|----------|
| `from HARK.distribution import` | `from HARK.distributions import` | HIGH | `diff -rq`: distribution.py → distributions/ |
| `from HARK.parallel import` | `from HARK.core import` | HIGH | parallel.py removed; functions in core.py |
| `from HARK.datasets import` | `from HARK.Calibration import` | HIGH | datasets/ → Calibration/ |

### 1.2 Removed Modules (No Direct Replacement)

| Module | Status | Notes |
|--------|--------|-------|
| `HARK.frame` | REMOVED | No replacement |
| `HARK.parallel` | MOVED | Functions moved to `HARK.core` |
| `HARK.ConsumptionSaving.ConsPortfolioFrameModel` | REMOVED | No replacement |

### 1.3 Specific Import Transformations

```python
# OLD (0.14.1)
from HARK.distribution import DiscreteDistribution, Uniform, MarkovProcess
from HARK.parallel import multi_thread_commands
from HARK.datasets.load_data import load_SCF_wealth_weights

# NEW (0.17.0)
from HARK.distributions import DiscreteDistribution, Uniform, MarkovProcess
from HARK.core import multi_thread_commands
from HARK.Calibration.load_data import load_SCF_wealth_weights
```

---

## 2. Parameter Renames (Model-Specific)

### 2.1 IndShockConsumerType Family Parameter Renames

| Old Parameter | New Parameter | Models Affected | Evidence |
|---------------|---------------|-----------------|----------|
| `aNrmInitMean` | `kLogInitMean` | IndShockConsumerType, KinkedRconsumerType, MarkovConsumerType | ConsIndShockModel.py diff |
| `aNrmInitStd` | `kLogInitStd` | Same | ConsIndShockModel.py diff |
| `pLvlInitMean` | `pLogInitMean` | Same | ConsIndShockModel.py diff |
| `pLvlInitStd` | `pLogInitStd` | Same | ConsIndShockModel.py diff |

### 2.2 Default Value Changes

| Parameter | Old Default | New Default |
|-----------|-------------|-------------|
| `kLogInitMean` (was `aNrmInitMean`) | 0.0 | -12.0 |
| `pLogInitMean` (was `pLvlInitMean`) | 0.0 | 0.0 (unchanged) |

### 2.3 Migration Rule

```
IF parameter dict contains 'aNrmInitMean' (or similar old names)
AND dict is passed to IndShockConsumerType or subclass
THEN rename keys to kLogInitMean (etc.)
```

**IMPORTANT**: The old parameter names (`aNrmInitMean`, etc.) are still used in:
- `HARK.Calibration.SCF.WealthIncomeDist.SCFDistTools` (outputs old names)
- Legacy compatibility code

Only rename when parameters are passed to model constructors.

---

## 3. Method/Attribute Renames

### 3.1 Status: Already Snake_Case in 0.14.1

The following methods are already snake_case in both versions:
- `initialize_sim` (NOT initializeSim)
- `pre_solve` (NOT preSolve)
- `add_to_time_vary` (NOT addToTimeVary)
- `get_mortality` (NOT getMortality)
- `draw_events` (NOT drawDiscrete)

**NO method renames required between 0.14.1 and 0.17.0.**

### 3.2 Attribute Names

The following attributes are consistent between versions:
- `.pmv` (NOT .pmf)
- `.atoms` (NOT .X)
- `.IncShkDstn` (NOT .IncomeDstn - though IncomeDstn appears in some docstrings)

---

## 4. Constructor Signature Changes

### 4.1 DiscreteDistribution

**Signature unchanged between 0.14.1 and 0.17.0:**
```python
def __init__(self, pmv, atoms, seed=0, limit=None)
```

Both versions use `pmv` and `atoms` (not `pmf`/`X`).

---

## 5. Type/Semantic Changes

### 5.1 NumPy RNG API

Both versions already use `RNG.integers()` (not `randint`).

### 5.2 Rfree Parameter

**Status**: Check target codebase for scalar Rfree assignments that may need to become lists.
This may be a concern for code written for 0.14.1 but depends on the specific model usage.

---

## 6. Project Config Files (Version Pins)

Files to check for `econ-ark` version pins:

| File Pattern | Update Rule |
|--------------|-------------|
| `requirements*.txt` | `econ-ark==0.14.1` → `econ-ark>=0.17.0` |
| `pyproject.toml` | dependencies section |
| `environment*.yml` | pip or conda section |
| `binder/requirements.txt` | Binder builds |
| `setup.py` | install_requires |

---

## 7. Verification Checklist

Before applying transformations, verify:

- [ ] All `from HARK.distribution import` found
- [ ] All `from HARK.parallel import` found
- [ ] All `from HARK.datasets import` found
- [ ] Parameter dicts with `aNrmInitMean` traced to model constructors
- [ ] Config files with `econ-ark` version pins identified

---

## 8. Confidence Levels

| Change Category | Confidence | Notes |
|-----------------|------------|-------|
| Import path changes | HIGH | Simple string replacement |
| Parameter renames | MEDIUM | Requires flow tracing |
| Config file updates | HIGH | Simple version replacement |

---

## 9. Known Ambiguities

1. **SCFDistTools outputs**: The `aNrmInitMean` key is still used in SCF calibration outputs. If code reads from SCF tools and passes to models, manual intervention may be needed.

2. **Rfree as list**: May need manual verification if models use Rfree parameter.
