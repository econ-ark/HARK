<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HARKutilities &mdash; HARK 0.9 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="HARK 0.9 documentation" href="../index.html" />
    <link rel="next" title="HARKsimulation" href="HARKsimulation.html" />
    <link rel="prev" title="Welcome to HARK’s documentation!" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HARKsimulation.html" title="HARKsimulation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to HARK’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">HARK 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-HARKutilities">
<span id="harkutilities"></span><h1>HARKutilities<a class="headerlink" href="#module-HARKutilities" title="Permalink to this headline">¶</a></h1>
<p>This module contains a number of utilities, including the code that implements
agent expectations, utility functions (and their derivatives), manipulation of
discrete approximations, and basic plotting tools.</p>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CARAutility" title="HARKutilities.CARAutility"><code class="xref py py-obj docutils literal"><span class="pre">CARAutility</span></code></a>(c,&nbsp;alpha)</td>
<td>Evaluates constant absolute risk aversion (CARA) utility of consumption c given risk aversion parameter alpha.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CARAutilityP" title="HARKutilities.CARAutilityP"><code class="xref py py-obj docutils literal"><span class="pre">CARAutilityP</span></code></a>(c,&nbsp;alpha)</td>
<td>Evaluates constant absolute risk aversion (CARA) marginal utility of consumption c given risk aversion parameter alpha.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CARAutilityPP" title="HARKutilities.CARAutilityPP"><code class="xref py py-obj docutils literal"><span class="pre">CARAutilityPP</span></code></a>(c,&nbsp;alpha)</td>
<td>Evaluates constant absolute risk aversion (CARA) marginal marginal utility of consumption c given risk aversion parameter alpha.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CARAutilityPPP" title="HARKutilities.CARAutilityPPP"><code class="xref py py-obj docutils literal"><span class="pre">CARAutilityPPP</span></code></a>(c,&nbsp;alpha)</td>
<td>Evaluates constant absolute risk aversion (CARA) marginal marginal marginal utility of consumption c given risk aversion parameter alpha.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CARAutilityP_inv" title="HARKutilities.CARAutilityP_inv"><code class="xref py py-obj docutils literal"><span class="pre">CARAutilityP_inv</span></code></a>(u,&nbsp;alpha)</td>
<td>Evaluates the inverse of constant absolute risk aversion (CARA) marginal utility function at marginal utility uP given risk aversion parameter alpha.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CARAutility_inv" title="HARKutilities.CARAutility_inv"><code class="xref py py-obj docutils literal"><span class="pre">CARAutility_inv</span></code></a>(u,&nbsp;alpha)</td>
<td>Evaluates inverse of constant absolute risk aversion (CARA) utility function at utility level u given risk aversion parameter alpha.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CARAutility_invP" title="HARKutilities.CARAutility_invP"><code class="xref py py-obj docutils literal"><span class="pre">CARAutility_invP</span></code></a>(u,&nbsp;alpha)</td>
<td>Evaluates the derivative of inverse of constant absolute risk aversion (CARA) utility function at utility level u given risk aversion parameter alpha.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CRRAutility" title="HARKutilities.CRRAutility"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutility</span></code></a>(c,&nbsp;gam)</td>
<td>Evaluates constant relative risk aversion (CRRA) utility of consumption c given risk aversion parameter gam.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CRRAutilityP" title="HARKutilities.CRRAutilityP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityP</span></code></a>(c,&nbsp;gam)</td>
<td>Evaluates constant relative risk aversion (CRRA) marginal utility of consumption c given risk aversion parameter gam.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CRRAutilityPP" title="HARKutilities.CRRAutilityPP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityPP</span></code></a>(c,&nbsp;gam)</td>
<td>Evaluates constant relative risk aversion (CRRA) marginal marginal utility of consumption c given risk aversion parameter gam.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CRRAutilityPPP" title="HARKutilities.CRRAutilityPPP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityPPP</span></code></a>(c,&nbsp;gam)</td>
<td>Evaluates constant relative risk aversion (CRRA) marginal marginal marginal utility of consumption c given risk aversion parameter gam.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CRRAutilityPPPP" title="HARKutilities.CRRAutilityPPPP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityPPPP</span></code></a>(c,&nbsp;gam)</td>
<td>Evaluates constant relative risk aversion (CRRA) marginal marginal marginal marginal utility of consumption c given risk aversion parameter gam.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CRRAutilityP_inv" title="HARKutilities.CRRAutilityP_inv"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityP_inv</span></code></a>(uP,&nbsp;gam)</td>
<td>Evaluates the inverse of the CRRA marginal utility function (with risk aversion parameter gam) at a given marginal utility level uP.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CRRAutilityP_invP" title="HARKutilities.CRRAutilityP_invP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutilityP_invP</span></code></a>(u,&nbsp;gam)</td>
<td>Evaluates the derivative of the inverse of the CRRA marginal utility function (with risk aversion parameter gam) at a given marginal utility level uP.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.CRRAutility_inv" title="HARKutilities.CRRAutility_inv"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutility_inv</span></code></a>(u,&nbsp;gam)</td>
<td>Evaluates the inverse of the CRRA utility function (with risk aversion para- meter gam) at a given utility level u.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.CRRAutility_invP" title="HARKutilities.CRRAutility_invP"><code class="xref py py-obj docutils literal"><span class="pre">CRRAutility_invP</span></code></a>(u,&nbsp;gam)</td>
<td>Evaluates the derivative of the inverse of the CRRA utility function (with risk aversion parameter gam) at a given utility level u.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.NullFunc" title="HARKutilities.NullFunc"><code class="xref py py-obj docutils literal"><span class="pre">NullFunc</span></code></a>(x)</td>
<td>A trivial function that takes a single array and returns an array of NaNs of the same size.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.addDiscreteOutcome" title="HARKutilities.addDiscreteOutcome"><code class="xref py py-obj docutils literal"><span class="pre">addDiscreteOutcome</span></code></a>(distribution,&nbsp;x,&nbsp;p[,&nbsp;sort])</td>
<td>Adds a discrete outcome of x with probability p to an existing distribution, holding constant the relative probabilities of other outcomes.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.addDiscreteOutcomeConstantMean" title="HARKutilities.addDiscreteOutcomeConstantMean"><code class="xref py py-obj docutils literal"><span class="pre">addDiscreteOutcomeConstantMean</span></code></a>(distribution,&nbsp;...)</td>
<td>Adds a discrete outcome of x with probability p to an existing distribution, holding constant the relative probabilities of other outcomes and overall mean.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.approxBeta" title="HARKutilities.approxBeta"><code class="xref py py-obj docutils literal"><span class="pre">approxBeta</span></code></a>(N[,&nbsp;a,&nbsp;b])</td>
<td>Calculate a discrete approximation to the beta distribution.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.approxLognormal" title="HARKutilities.approxLognormal"><code class="xref py py-obj docutils literal"><span class="pre">approxLognormal</span></code></a>(N[,&nbsp;mu,&nbsp;sigma,&nbsp;tail_N,&nbsp;...])</td>
<td>Construct a discrete approximation to a lognormal distribution with underlying normal distribution N(exp(mu),sigma).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.approxMeanOneLognormal" title="HARKutilities.approxMeanOneLognormal"><code class="xref py py-obj docutils literal"><span class="pre">approxMeanOneLognormal</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>Calculate a discrete approximation to a mean one lognormal distribution.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.approxUniform" title="HARKutilities.approxUniform"><code class="xref py py-obj docutils literal"><span class="pre">approxUniform</span></code></a>(center,&nbsp;width,&nbsp;N)</td>
<td>Makes a discrete approximation to a uniform distribution, given its center point and width.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.calcSubpopAvg" title="HARKutilities.calcSubpopAvg"><code class="xref py py-obj docutils literal"><span class="pre">calcSubpopAvg</span></code></a>(data,&nbsp;reference,&nbsp;cutoffs[,&nbsp;...])</td>
<td>Calculates the average of (weighted) data between cutoff percentiles of a reference variable.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.calcWeightedAvg" title="HARKutilities.calcWeightedAvg"><code class="xref py py-obj docutils literal"><span class="pre">calcWeightedAvg</span></code></a>(data,&nbsp;weights)</td>
<td>Generates a weighted average of simulated data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.combineIndepDstns" title="HARKutilities.combineIndepDstns"><code class="xref py py-obj docutils literal"><span class="pre">combineIndepDstns</span></code></a>(*distributions)</td>
<td>Given n lists (or tuples) whose elements represent n independent, discrete probability spaces (probabilities and values), construct a joint pmf over all combinations of these independent points.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.epanechnikovKernel" title="HARKutilities.epanechnikovKernel"><code class="xref py py-obj docutils literal"><span class="pre">epanechnikovKernel</span></code></a>(x,&nbsp;ref_x[,&nbsp;h])</td>
<td>The Epanechnikov kernel.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">fixed_quad</span></code>(func,&nbsp;a,&nbsp;b[,&nbsp;args,&nbsp;n])</td>
<td>Compute a definite integral using fixed-order Gaussian quadrature.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.getArgNames" title="HARKutilities.getArgNames"><code class="xref py py-obj docutils literal"><span class="pre">getArgNames</span></code></a>(function)</td>
<td>Returns a list of strings naming all of the arguments for the passed function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.getLorenzShares" title="HARKutilities.getLorenzShares"><code class="xref py py-obj docutils literal"><span class="pre">getLorenzShares</span></code></a>(data[,&nbsp;weights,&nbsp;...])</td>
<td>Calculates the Lorenz curve at the requested percentiles of (weighted) data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.getPercentiles" title="HARKutilities.getPercentiles"><code class="xref py py-obj docutils literal"><span class="pre">getPercentiles</span></code></a>(data[,&nbsp;weights,&nbsp;percentiles,&nbsp;...])</td>
<td>Calculates the requested percentiles of (weighted) data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.kernelRegression" title="HARKutilities.kernelRegression"><code class="xref py py-obj docutils literal"><span class="pre">kernelRegression</span></code></a>(x,&nbsp;y[,&nbsp;bot,&nbsp;top,&nbsp;N,&nbsp;h])</td>
<td>Performs a non-parametric Nadaraya-Watson 1D kernel regression on given data with optionally specified range, number of points, and kernel bandwidth.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.makeGridExpMult" title="HARKutilities.makeGridExpMult"><code class="xref py py-obj docutils literal"><span class="pre">makeGridExpMult</span></code></a>(ming,&nbsp;maxg,&nbsp;ng[,&nbsp;timestonest])</td>
<td>Make a multi-exponentially spaced grid.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.makeMarkovApproxToNormal" title="HARKutilities.makeMarkovApproxToNormal"><code class="xref py py-obj docutils literal"><span class="pre">makeMarkovApproxToNormal</span></code></a>(x_grid,&nbsp;mu,&nbsp;sigma)</td>
<td>Creates an approximation to a normal distribution with mean mu and standard deviation sigma, returning a stochastic vector called p_vec, corresponding to values in x_grid.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../HARKutilities.html#HARKutilities.memoize" title="HARKutilities.memoize"><code class="xref py py-obj docutils literal"><span class="pre">memoize</span></code></a>(obj)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.plotFunc" title="HARKutilities.plotFunc"><code class="xref py py-obj docutils literal"><span class="pre">plotFunc</span></code></a>(function,&nbsp;bottom,&nbsp;top[,&nbsp;N])</td>
<td>Plots a 1D function over a given range.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#HARKutilities.plotFuncDer" title="HARKutilities.plotFuncDer"><code class="xref py py-obj docutils literal"><span class="pre">plotFuncDer</span></code></a>(function,&nbsp;bottom,&nbsp;top[,&nbsp;N])</td>
<td>Plots the first derivative of a 1D function over a given range.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#HARKutilities.plotFuncs" title="HARKutilities.plotFuncs"><code class="xref py py-obj docutils literal"><span class="pre">plotFuncs</span></code></a>(function_list,&nbsp;bottom,&nbsp;top[,&nbsp;N])</td>
<td>Plots a list of 1D function over a given range.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">quad</span></code>(func,&nbsp;a,&nbsp;b[,&nbsp;args,&nbsp;full_output,&nbsp;...])</td>
<td>Compute a definite integral.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">interp1d</span></code>(x,&nbsp;y[,&nbsp;kind,&nbsp;axis,&nbsp;copy,&nbsp;...])</td>
<td>Interpolate a 1-D function.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="HARKutilities.CARAutility">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutility</code><span class="sig-paren">(</span><em>c</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutility" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant absolute risk aversion (CARA) utility of consumption c
given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c: float</strong></p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">u: float</p>
<blockquote class="last">
<div><p>Utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutilityP">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutilityP</code><span class="sig-paren">(</span><em>c</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutilityP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant absolute risk aversion (CARA) marginal utility of
consumption c given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c: float</strong></p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">uP: float</p>
<blockquote class="last">
<div><p>Marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutilityPP">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutilityPP</code><span class="sig-paren">(</span><em>c</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutilityPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant absolute risk aversion (CARA) marginal marginal utility
of consumption c given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c: float</strong></p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">uPP: float</p>
<blockquote class="last">
<div><p>Marginal marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutilityPPP">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutilityPPP</code><span class="sig-paren">(</span><em>c</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutilityPPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant absolute risk aversion (CARA) marginal marginal marginal
utility of consumption c given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c: float</strong></p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">uPPP: float</p>
<blockquote class="last">
<div><p>Marginal marginal marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutilityP_inv">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutilityP_inv</code><span class="sig-paren">(</span><em>u</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutilityP_inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the inverse of constant absolute risk aversion (CARA) marginal
utility function at marginal utility uP given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u: float</strong></p>
<blockquote>
<div><p>Utility value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">c: float</p>
<blockquote class="last">
<div><p>Consumption value corresponding to uP</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutility_inv">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutility_inv</code><span class="sig-paren">(</span><em>u</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutility_inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates inverse of constant absolute risk aversion (CARA) utility function
at utility level u given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u: float</strong></p>
<blockquote>
<div><p>Utility value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">c: float</p>
<blockquote class="last">
<div><p>Consumption value corresponding to u</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CARAutility_invP">
<code class="descclassname">HARKutilities.</code><code class="descname">CARAutility_invP</code><span class="sig-paren">(</span><em>u</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CARAutility_invP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the derivative of inverse of constant absolute risk aversion (CARA)
utility function at utility level u given risk aversion parameter alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u: float</strong></p>
<blockquote>
<div><p>Utility value</p>
</div></blockquote>
<p><strong>alpha: float</strong></p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cP: float</p>
<blockquote class="last">
<div><p>Marginal onsumption value corresponding to u</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutility">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutility</code><span class="sig-paren">(</span><em>c</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutility" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant relative risk aversion (CRRA) utility of consumption c
given risk aversion parameter gam.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>u</strong> : float</p>
<blockquote class="last">
<div><p>Utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityP</code><span class="sig-paren">(</span><em>c</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant relative risk aversion (CRRA) marginal utility of consumption
c given risk aversion parameter gam.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>uP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityPP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityPP</code><span class="sig-paren">(</span><em>c</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant relative risk aversion (CRRA) marginal marginal utility of
consumption c given risk aversion parameter gam.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>uPP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityPPP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityPPP</code><span class="sig-paren">(</span><em>c</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityPPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant relative risk aversion (CRRA) marginal marginal marginal
utility of consumption c given risk aversion parameter gam.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>uPPP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal marginal marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityPPPP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityPPPP</code><span class="sig-paren">(</span><em>c</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityPPPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates constant relative risk aversion (CRRA) marginal marginal marginal
marginal utility of consumption c given risk aversion parameter gam.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote>
<div><p>Consumption value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>uPPPP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal marginal marginal marginal utility</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityP_inv">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityP_inv</code><span class="sig-paren">(</span><em>uP</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityP_inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the inverse of the CRRA marginal utility function (with risk aversion
parameter gam) at a given marginal utility level uP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>uP</strong> : float</p>
<blockquote>
<div><p>Marginal utility value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote class="last">
<div><p>Consumption corresponding to given marginal utility value.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutilityP_invP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutilityP_invP</code><span class="sig-paren">(</span><em>u</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutilityP_invP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the derivative of the inverse of the CRRA marginal utility function
(with risk aversion parameter gam) at a given marginal utility level uP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>uP</strong> : float</p>
<blockquote>
<div><p>Marginal utility value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal consumption corresponding to given marginal utility value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutility_inv">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutility_inv</code><span class="sig-paren">(</span><em>u</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutility_inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the inverse of the CRRA utility function (with risk aversion para-
meter gam) at a given utility level u.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u</strong> : float</p>
<blockquote>
<div><p>Utility value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>c</strong> : float</p>
<blockquote class="last">
<div><p>Consumption corresponding to given utility value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.CRRAutility_invP">
<code class="descclassname">HARKutilities.</code><code class="descname">CRRAutility_invP</code><span class="sig-paren">(</span><em>u</em>, <em>gam</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.CRRAutility_invP" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the derivative of the inverse of the CRRA utility function (with
risk aversion parameter gam) at a given utility level u.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u</strong> : float</p>
<blockquote>
<div><p>Utility value</p>
</div></blockquote>
<p><strong>gam</strong> : float</p>
<blockquote>
<div><p>Risk aversion</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cP</strong> : float</p>
<blockquote class="last">
<div><p>Marginal consumption corresponding to given utility value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.NullFunc">
<code class="descclassname">HARKutilities.</code><code class="descname">NullFunc</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.NullFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>A trivial function that takes a single array and returns an array of NaNs of the
same size.  A generic default function that does nothing.</p>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.addDiscreteOutcome">
<code class="descclassname">HARKutilities.</code><code class="descname">addDiscreteOutcome</code><span class="sig-paren">(</span><em>distribution</em>, <em>x</em>, <em>p</em>, <em>sort=False</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.addDiscreteOutcome" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a discrete outcome of x with probability p to an existing distribution,
holding constant the relative probabilities of other outcomes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>distribution</strong> : [np.array]</p>
<blockquote>
<div><p>Two element list containing a list of probabilities and a list of outcomes.</p>
</div></blockquote>
<p><strong>x</strong> : float</p>
<blockquote>
<div><p>The new value to be added to the distribution.</p>
</div></blockquote>
<p><strong>p</strong> : float</p>
<blockquote>
<div><p>The probability of the discrete outcome x occuring.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A new distribution object</p>
<p>Written by Matthew N. White</p>
<p class="last">Latest update: 11 December 2015</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.addDiscreteOutcomeConstantMean">
<code class="descclassname">HARKutilities.</code><code class="descname">addDiscreteOutcomeConstantMean</code><span class="sig-paren">(</span><em>distribution</em>, <em>x</em>, <em>p</em>, <em>sort=False</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.addDiscreteOutcomeConstantMean" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a discrete outcome of x with probability p to an existing distribution,
holding constant the relative probabilities of other outcomes and overall mean.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>distribution</strong> : [np.array]</p>
<blockquote>
<div><p>Two element list containing a list of probabilities and a list of outcomes.</p>
</div></blockquote>
<p><strong>x</strong> : float</p>
<blockquote>
<div><p>The new value to be added to the distribution.</p>
</div></blockquote>
<p><strong>p</strong> : float</p>
<blockquote>
<div><p>The probability of the discrete outcome x occuring.</p>
</div></blockquote>
<p><strong>sort: bool</strong></p>
<blockquote>
<div><p>Whether or not to sort X before returning it</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A new distribution object</p>
<p>Written by Matthew N. White</p>
<p class="last">Latest update: 08 December 2015 by David Low</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.approxBeta">
<code class="descclassname">HARKutilities.</code><code class="descname">approxBeta</code><span class="sig-paren">(</span><em>N</em>, <em>a=1.0</em>, <em>b=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.approxBeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a discrete approximation to the beta distribution.  May be quite
slow, as it uses a rudimentary numeric integration method to generate the
discrete approximation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N</strong> : int</p>
<blockquote>
<div><p>Size of discrete space vector to be returned.</p>
</div></blockquote>
<p><strong>a</strong> : float</p>
<blockquote>
<div><p>First shape parameter (sometimes called alpha).</p>
</div></blockquote>
<p><strong>b</strong> : float</p>
<blockquote>
<div><p>Second shape parameter (sometimes called beta).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X</strong> : np.array</p>
<blockquote>
<div><p>Discrete points for discrete probability mass function.</p>
</div></blockquote>
<p><strong>pmf</strong> : np.array</p>
<blockquote class="last">
<div><p>Probability associated with each point in X.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.approxLognormal">
<code class="descclassname">HARKutilities.</code><code class="descname">approxLognormal</code><span class="sig-paren">(</span><em>N, mu=0.0, sigma=1.0, tail_N=0, tail_bound=[0.02, 0.98], tail_order=2.718281828459045</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.approxLognormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a discrete approximation to a lognormal distribution with underlying
normal distribution N(exp(mu),sigma).  Makes an equiprobable distribution by
default, but user can optionally request augmented tails with exponentially
sized point masses.  This can improve solution accuracy in some models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N: int</strong></p>
<blockquote>
<div><p>Number of discrete points in the &#8220;main part&#8221; of the approximation.</p>
</div></blockquote>
<p><strong>mu: float</strong></p>
<blockquote>
<div><p>Mean of underlying normal distribution.</p>
</div></blockquote>
<p><strong>sigma: float</strong></p>
<blockquote>
<div><p>Standard deviation of underlying normal distribution.</p>
</div></blockquote>
<p><strong>tail_N: int</strong></p>
<blockquote>
<div><p>Number of points in each &#8220;tail part&#8221; of the approximation; 0 = no tail.</p>
</div></blockquote>
<p><strong>tail_bound: [float]</strong></p>
<blockquote>
<div><p>CDF boundaries of the tails vs main portion; tail_bound[0] is the lower
tail bound, tail_bound[1] is the upper tail bound.  Inoperative when
tail_N = 0.  Can make &#8220;one tailed&#8221; approximations with 0.0 or 1.0.</p>
</div></blockquote>
<p><strong>tail_order: float</strong></p>
<blockquote>
<div><p>Factor by which consecutive point masses in a &#8220;tail part&#8221; differ in
probability.  Should be &gt;= 1 for sensible spacing.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">pmf: np.ndarray</p>
<blockquote>
<div><p>Probabilities for discrete probability mass function.</p>
</div></blockquote>
<p>X: np.ndarray</p>
<blockquote>
<div><p>Discrete values in probability mass function.</p>
</div></blockquote>
<p>Written by Luca Gerotto</p>
<p>Based on Matab function &#8220;setup_workspace.m,&#8221; from Chris Carroll&#8217;s</p>
<blockquote>
<div><p>[Solution Methods for Microeconomic Dynamic Optimization Problems](<a class="reference external" href="http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/">http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/</a>) toolkit.</p>
</div></blockquote>
<p class="last">Latest update: 21 April 2016 by Matthew N. White</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.approxMeanOneLognormal">
<code class="descclassname">HARKutilities.</code><code class="descname">approxMeanOneLognormal</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.approxMeanOneLognormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a discrete approximation to a mean one lognormal distribution.
Based on function approxLognormal; see that function&#8217;s documentation for
further notes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N</strong> : int</p>
<blockquote>
<div><p>Size of discrete space vector to be returned.</p>
</div></blockquote>
<p><strong>sigma</strong> : float</p>
<blockquote>
<div><p>standard deviation associated with underlying normal probability distribution.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X</strong> : np.array</p>
<blockquote>
<div><p>Discrete points for discrete probability mass function.</p>
</div></blockquote>
<p><strong>pmf</strong> : np.array</p>
<blockquote>
<div><p>Probability associated with each point in X.</p>
</div></blockquote>
<p>Written by Nathan M. Palmer</p>
<p>Based on Matab function &#8220;setup_shocks.m,&#8221; from Chris Carroll&#8217;s</p>
<blockquote>
<div><p>[Solution Methods for Microeconomic Dynamic Optimization Problems](<a class="reference external" href="http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/">http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/</a>) toolkit.</p>
</div></blockquote>
<p class="last">Latest update: 01 May 2015</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.approxUniform">
<code class="descclassname">HARKutilities.</code><code class="descname">approxUniform</code><span class="sig-paren">(</span><em>center</em>, <em>width</em>, <em>N</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.approxUniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a discrete approximation to a uniform distribution, given its center
point and width.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>center</strong> : float</p>
<blockquote>
<div><p>The center of the uniform distribution</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>The width of the distribution, to either side of the center</p>
</div></blockquote>
<p><strong>N</strong> : int</p>
<blockquote>
<div><p>The number of points in the discrete approximation</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X</strong> : np.array</p>
<blockquote class="last">
<div><p>An equiprobable discrete approximation to the uniform distribution.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.calcSubpopAvg">
<code class="descclassname">HARKutilities.</code><code class="descname">calcSubpopAvg</code><span class="sig-paren">(</span><em>data</em>, <em>reference</em>, <em>cutoffs</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.calcSubpopAvg" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the average of (weighted) data between cutoff percentiles of a
reference variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy.array</p>
<blockquote>
<div><p>A 1D array of float data.</p>
</div></blockquote>
<p><strong>reference</strong> : numpy.array</p>
<blockquote>
<div><p>A 1D array of float data of the same length as data.</p>
</div></blockquote>
<p><strong>cutoffs</strong> : [(float,float)]</p>
<blockquote>
<div><p>A list of doubles with the lower and upper percentile bounds (should be
in [0,1]).</p>
</div></blockquote>
<p><strong>weights</strong> : numpy.array</p>
<blockquote>
<div><p>A weighting vector for the data.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">slice_avg</p>
<blockquote class="last">
<div><p>The (weighted) average of data that falls within the cutoff percentiles
of reference.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.calcWeightedAvg">
<code class="descclassname">HARKutilities.</code><code class="descname">calcWeightedAvg</code><span class="sig-paren">(</span><em>data</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.calcWeightedAvg" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a weighted average of simulated data.  The Nth row of data is averaged
and then weighted by the Nth element of weights in an aggregate average.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy.array</p>
<blockquote>
<div><p>An array of data with N rows of J floats</p>
</div></blockquote>
<p><strong>weights</strong> : numpy.array</p>
<blockquote>
<div><p>A length N array of weights for the N rows of data.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weighted_sum</strong> : float</p>
<blockquote class="last">
<div><p>The weighted sum of the data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.combineIndepDstns">
<code class="descclassname">HARKutilities.</code><code class="descname">combineIndepDstns</code><span class="sig-paren">(</span><em>*distributions</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.combineIndepDstns" title="Permalink to this definition">¶</a></dt>
<dd><p>Given n lists (or tuples) whose elements represent n independent, discrete
probability spaces (probabilities and values), construct a joint pmf over
all combinations of these independent points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>distributions</strong> : [np.array]</p>
<blockquote>
<div><p>Arbitrary number of distributions (pmfs).  Each pmf is a list or tuple.
For each pmf, the first vector is probabilities and the second is values.
For each pmf, this should be true: len(X_pmf[0]) = len(X_pmf[1])</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of arrays, consisting of:</p>
<p>P_out: np.array</p>
<blockquote>
<div><p>Probability associated with each point in X_out.</p>
</div></blockquote>
<p>X_out: np.array (as many as in <a href="#id1"><span class="problematic" id="id2">*</span></a>distributions)</p>
<blockquote>
<div><p>Discrete points for the joint discrete probability mass function.</p>
</div></blockquote>
<p>Written by Nathan Palmer</p>
<p class="last">Latest update: 31 August 2015 by David Low</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.epanechnikovKernel">
<code class="descclassname">HARKutilities.</code><code class="descname">epanechnikovKernel</code><span class="sig-paren">(</span><em>x</em>, <em>ref_x</em>, <em>h=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.epanechnikovKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>The Epanechnikov kernel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : np.array</p>
<blockquote>
<div><p>Values at which to evaluate the kernel</p>
</div></blockquote>
<p><strong>x_ref</strong> : float</p>
<blockquote>
<div><p>The reference point</p>
</div></blockquote>
<p><strong>h</strong> : float</p>
<blockquote>
<div><p>Kernel bandwidth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fx</strong> : np.array</p>
<blockquote class="last">
<div><p>Kernel values at each value of x</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.getArgNames">
<code class="descclassname">HARKutilities.</code><code class="descname">getArgNames</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.getArgNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings naming all of the arguments for the passed function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>function</strong> : function</p>
<blockquote>
<div><p>A function whose argument names are wanted.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>argNames</strong> : [string]</p>
<blockquote class="last">
<div><p>The names of the arguments of function.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.getLorenzShares">
<code class="descclassname">HARKutilities.</code><code class="descname">getLorenzShares</code><span class="sig-paren">(</span><em>data, weights=None, percentiles=[0.5], presorted=False</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.getLorenzShares" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Lorenz curve at the requested percentiles of (weighted) data.
Median by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy.array</p>
<blockquote>
<div><p>A 1D array of float data.</p>
</div></blockquote>
<p><strong>weights</strong> : numpy.array</p>
<blockquote>
<div><p>A weighting vector for the data.</p>
</div></blockquote>
<p><strong>percentiles</strong> : [float]</p>
<blockquote>
<div><p>A list of percentiles to calculate for the data.  Each element should
be in (0,1).</p>
</div></blockquote>
<p><strong>presorted</strong> : boolean</p>
<blockquote>
<div><p>Indicator for whether data has already been sorted.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lorenz_out</strong> : numpy.array</p>
<blockquote class="last">
<div><p>The requested Lorenz curve points of the data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.getPercentiles">
<code class="descclassname">HARKutilities.</code><code class="descname">getPercentiles</code><span class="sig-paren">(</span><em>data, weights=None, percentiles=[0.5], presorted=False</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.getPercentiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the requested percentiles of (weighted) data.  Median by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy.array</p>
<blockquote>
<div><p>A 1D array of float data.</p>
</div></blockquote>
<p><strong>weights</strong> : np.array</p>
<blockquote>
<div><p>A weighting vector for the data.</p>
</div></blockquote>
<p><strong>percentiles</strong> : [float]</p>
<blockquote>
<div><p>A list of percentiles to calculate for the data.  Each element should
be in (0,1).</p>
</div></blockquote>
<p><strong>presorted</strong> : boolean</p>
<blockquote>
<div><p>Indicator for whether data has already been sorted.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pctl_out</strong> : numpy.array</p>
<blockquote class="last">
<div><p>The requested percentiles of the data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.kernelRegression">
<code class="descclassname">HARKutilities.</code><code class="descname">kernelRegression</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>bot=None</em>, <em>top=None</em>, <em>N=500</em>, <em>h=None</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.kernelRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a non-parametric Nadaraya-Watson 1D kernel regression on given data
with optionally specified range, number of points, and kernel bandwidth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : np.array</p>
<blockquote>
<div><p>The independent variable in the kernel regression.</p>
</div></blockquote>
<p><strong>y</strong> : np.array</p>
<blockquote>
<div><p>The dependent variable in the kernel regression.</p>
</div></blockquote>
<p><strong>bot</strong> : float</p>
<blockquote>
<div><p>Minimum value of interest in the regression; defaults to min(x).</p>
</div></blockquote>
<p><strong>top</strong> : float</p>
<blockquote>
<div><p>Maximum value of interest in the regression; defaults to max(y).</p>
</div></blockquote>
<p><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of points to compute.</p>
</div></blockquote>
<p><strong>h</strong> : float</p>
<blockquote>
<div><p>The bandwidth of the (Epanechnikov) kernel. To-do: GENERALIZE.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>regression</strong> : LinearInterp</p>
<blockquote class="last">
<div><p>A piecewise locally linear kernel regression: y = f(x).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.makeGridExpMult">
<code class="descclassname">HARKutilities.</code><code class="descname">makeGridExpMult</code><span class="sig-paren">(</span><em>ming</em>, <em>maxg</em>, <em>ng</em>, <em>timestonest=20</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.makeGridExpMult" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a multi-exponentially spaced grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ming</strong> : float</p>
<blockquote>
<div><p>Minimum value of the grid</p>
</div></blockquote>
<p><strong>maxg</strong> : float</p>
<blockquote>
<div><p>Maximum value of the grid</p>
</div></blockquote>
<p><strong>ng</strong> : int</p>
<blockquote>
<div><p>The number of grid points</p>
</div></blockquote>
<p><strong>timestonest</strong> : int</p>
<blockquote>
<div><p>the number of times to nest the exponentiation</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>points</strong> : np.array</p>
<blockquote>
<div><p>A multi-exponentially spaced grid</p>
</div></blockquote>
<p>Original Matab code can be found in Chris Carroll&#8217;s</p>
<p>[Solution Methods for Microeconomic Dynamic Optimization Problems](<a class="reference external" href="http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/">http://www.econ2.jhu.edu/people/ccarroll/solvingmicrodsops/</a>) toolkit.</p>
<p class="last">Latest update: 01 May 2015</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.makeMarkovApproxToNormal">
<code class="descclassname">HARKutilities.</code><code class="descname">makeMarkovApproxToNormal</code><span class="sig-paren">(</span><em>x_grid</em>, <em>mu</em>, <em>sigma</em>, <em>K=351</em>, <em>bound=3.5</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.makeMarkovApproxToNormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an approximation to a normal distribution with mean mu and standard
deviation sigma, returning a stochastic vector called p_vec, corresponding
to values in x_grid.  If a RV is distributed x~N(mu,sigma), then the expectation
of a continuous function f() is E[f(x)] = numpy.dot(p_vec,f(x_grid)).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x_grid: numpy.array</strong></p>
<blockquote>
<div><p>A sorted 1D array of floats representing discrete values that a normally
distributed RV could take on.</p>
</div></blockquote>
<p><strong>mu: float</strong></p>
<blockquote>
<div><p>Mean of the normal distribution to be approximated.</p>
</div></blockquote>
<p><strong>sigma: float</strong></p>
<blockquote>
<div><p>Standard deviation of the normal distribution to be approximated.</p>
</div></blockquote>
<p><strong>K: int</strong></p>
<blockquote>
<div><p>Number of points in the normal distribution to sample.</p>
</div></blockquote>
<p><strong>bound: float</strong></p>
<blockquote>
<div><p>Truncation bound of the normal distribution, as +/- bound*sigma.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">p_vec: numpy.array</p>
<blockquote class="last">
<div><p>A stochastic vector with probability weights for each x in x_grid.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.plotFunc">
<code class="descclassname">HARKutilities.</code><code class="descname">plotFunc</code><span class="sig-paren">(</span><em>function</em>, <em>bottom</em>, <em>top</em>, <em>N=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.plotFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a 1D function over a given range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>function</strong> : function</p>
<blockquote>
<div><p>A real function to be plotted.</p>
</div></blockquote>
<p><strong>bottom</strong> : float</p>
<blockquote>
<div><p>The lower limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>top</strong> : float</p>
<blockquote>
<div><p>The upper limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of points in the domain to evaluate.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">none</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.plotFuncDer">
<code class="descclassname">HARKutilities.</code><code class="descname">plotFuncDer</code><span class="sig-paren">(</span><em>function</em>, <em>bottom</em>, <em>top</em>, <em>N=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.plotFuncDer" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the first derivative of a 1D function over a given range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>function</strong> : function</p>
<blockquote>
<div><p>A real function to be plotted.</p>
</div></blockquote>
<p><strong>bottom</strong> : float</p>
<blockquote>
<div><p>The lower limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>top</strong> : float</p>
<blockquote>
<div><p>The upper limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of points in the domain to evaluate.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">none</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="HARKutilities.plotFuncs">
<code class="descclassname">HARKutilities.</code><code class="descname">plotFuncs</code><span class="sig-paren">(</span><em>function_list</em>, <em>bottom</em>, <em>top</em>, <em>N=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#HARKutilities.plotFuncs" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a list of 1D function over a given range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>function_list</strong> : [function]</p>
<blockquote>
<div><p>A list of real functions to be plotted.</p>
</div></blockquote>
<p><strong>bottom</strong> : float</p>
<blockquote>
<div><p>The lower limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>top</strong> : float</p>
<blockquote>
<div><p>The upper limit of the domain to be plotted.</p>
</div></blockquote>
<p><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of points in the domain to evaluate.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">none</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Welcome to HARK&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="HARKsimulation.html"
                        title="next chapter">HARKsimulation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/HARKutilities.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HARKsimulation.html" title="HARKsimulation"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to HARK’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">HARK 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, TEMP.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>